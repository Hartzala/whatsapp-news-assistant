# URLs de Webhooks pour Votre Projet

## ğŸ”— Webhook Twilio WhatsApp

Copiez-collez cette URL dans Twilio Console :

```
https://whatsapp-news-assistant-production.up.railway.app/api/webhooks/twilio/whatsapp
```

**Configuration Twilio** :
1. Allez sur console.twilio.com
2. Messaging â†’ Try it out â†’ Send a WhatsApp message
3. Dans "When a message comes in", collez l'URL ci-dessus
4. SÃ©lectionnez HTTP POST
5. Cliquez sur Save

---

## ğŸ’³ Webhook Stripe

Copiez-collez cette URL dans Stripe Dashboard :

```
https://whatsapp-news-assistant-production.up.railway.app/api/webhooks/stripe
```

**Configuration Stripe** :
1. Allez sur dashboard.stripe.com
2. Developers â†’ Webhooks â†’ + Add endpoint
3. Collez l'URL ci-dessus
4. SÃ©lectionnez les Ã©vÃ©nements :
   - customer.subscription.created
   - customer.subscription.updated
   - customer.subscription.deleted
   - checkout.session.completed
   - invoice.payment_succeeded
   - invoice.payment_failed
5. Cliquez sur Add endpoint
6. Copiez le Webhook Secret (whsec_...)
7. Ajoutez-le dans Railway â†’ Variables :
   STRIPE_WEBHOOK_SECRET=whsec_xxxxx

---

## ğŸ§ª Test des Webhooks

### Tester Twilio
Envoyez un message WhatsApp Ã  votre numÃ©ro Twilio et vous devriez recevoir une rÃ©ponse de l'assistant IA.

### Tester Stripe
Dans Stripe Dashboard â†’ Webhooks â†’ Votre webhook â†’ Send test webhook

---

## ğŸ” VÃ©rifier les Logs Railway

Pour voir si les webhooks fonctionnent :
1. Railway â†’ Votre projet â†’ Deployments
2. Cliquez sur le dÃ©ploiement actif
3. Consultez les logs en temps rÃ©el

Vous devriez voir :
- `[Twilio] Received message from: whatsapp:+...`
- `[Stripe] Webhook received: customer.subscription.created`
